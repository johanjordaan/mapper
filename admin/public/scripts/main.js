// Generated by CoffeeScript 1.6.3
(function() {
  requirejs.config({
    shim: {
      '/angular/angular.js': {
        exports: 'angular'
      },
      '/angular-resource/angular-resource.js': {
        exports: 'angular_resource',
        deps: ['/angular/angular.js']
      }
    }
  });

  require(["/angular/angular.js", "/angular-resource/angular-resource.js"], function(angular, angular_resource) {
    var module;
    module = angular.module('myApp', ['ngResource']);
    module.value('some_value', '');
    module.factory('Models', function($resource) {
      return $resource('/models');
    });
    module.config(function($routeProvider) {
      $routeProvider.when('/', {
        controller: ListCtrl,
        templateUrl: 'list'
      });
      $routeProvider.when('/new', {
        controller: CreateCtrl,
        templateUrl: 'detail'
      });
      return $routeProvider.otherwise({
        redirectTo: '/'
      });
    });
    this.ListCtrl = function($scope, $route, Models, $location) {
      Models.query(function(data) {
        return $scope.models = data;
      });
      return $scope.remove = function(model) {
        return Models.remove({
          id: model.id
        }, function() {
          return $route.reload();
        }, function() {
          return $route.reload();
        });
      };
    };
    this.CreateCtrl = function($scope, $location, Models) {
      $scope.save = function() {
        Models.save($scope.model);
        return $location.path('/');
      };
      return $scope.cancel = function() {
        return $location.path('/');
      };
    };
    return angular.bootstrap(document, ['myApp']);
  });

}).call(this);
